"use strict";function cov_1jhh4j08io(){var path="/Users/trevorhuey/code/internal-actions-public/.github/actions/npm-license-checker/src/run.ts";var hash="5254cc6669fdcacc8660d52d6c1faf41d74b0e74";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/trevorhuey/code/internal-actions-public/.github/actions/npm-license-checker/src/run.ts",statementMap:{"0":{start:{line:2,column:22},end:{line:4,column:1}},"1":{start:{line:3,column:4},end:{line:3,column:62}},"2":{start:{line:5,column:0},end:{line:5,column:62}},"3":{start:{line:6,column:0},end:{line:6,column:22}},"4":{start:{line:7,column:13},end:{line:7,column:43}},"5":{start:{line:8,column:15},end:{line:8,column:47}},"6":{start:{line:9,column:16},end:{line:9,column:34}},"7":{start:{line:10,column:24},end:{line:10,column:67}},"8":{start:{line:12,column:4},end:{line:73,column:5}},"9":{start:{line:13,column:31},end:{line:13,column:63}},"10":{start:{line:14,column:26},end:{line:14,column:53}},"11":{start:{line:15,column:33},end:{line:15,column:68}},"12":{start:{line:16,column:35},end:{line:16,column:71}},"13":{start:{line:17,column:26},end:{line:17,column:53}},"14":{start:{line:18,column:34},end:{line:18,column:70}},"15":{start:{line:19,column:36},end:{line:19,column:74}},"16":{start:{line:20,column:32},end:{line:20,column:65}},"17":{start:{line:21,column:44},end:{line:21,column:91}},"18":{start:{line:22,column:8},end:{line:25,column:9}},"19":{start:{line:23,column:12},end:{line:23,column:146}},"20":{start:{line:24,column:12},end:{line:24,column:19}},"21":{start:{line:26,column:8},end:{line:29,column:9}},"22":{start:{line:27,column:12},end:{line:27,column:162}},"23":{start:{line:28,column:12},end:{line:28,column:19}},"24":{start:{line:30,column:8},end:{line:33,column:9}},"25":{start:{line:31,column:12},end:{line:31,column:92}},"26":{start:{line:32,column:12},end:{line:32,column:19}},"27":{start:{line:34,column:8},end:{line:37,column:9}},"28":{start:{line:35,column:12},end:{line:35,column:107}},"29":{start:{line:36,column:12},end:{line:36,column:19}},"30":{start:{line:38,column:8},end:{line:41,column:9}},"31":{start:{line:40,column:12},end:{line:40,column:110}},"32":{start:{line:42,column:27},end:{line:47,column:9}},"33":{start:{line:48,column:8},end:{line:57,column:9}},"34":{start:{line:49,column:12},end:{line:56,column:13}},"35":{start:{line:50,column:44},end:{line:50,column:119}},"36":{start:{line:51,column:16},end:{line:51,column:63}},"37":{start:{line:54,column:16},end:{line:54,column:94}},"38":{start:{line:55,column:16},end:{line:55,column:23}},"39":{start:{line:58,column:23},end:{line:68,column:10}},"40":{start:{line:69,column:8},end:{line:69,column:52}},"41":{start:{line:72,column:8},end:{line:72,column:68}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:2,column:56},end:{line:2,column:57}},loc:{start:{line:2,column:71},end:{line:4,column:1}},line:2},"1":{name:"run",decl:{start:{line:11,column:15},end:{line:11,column:18}},loc:{start:{line:11,column:45},end:{line:74,column:1}},line:11}},branchMap:{"0":{loc:{start:{line:2,column:22},end:{line:4,column:1}},type:"binary-expr",locations:[{start:{line:2,column:23},end:{line:2,column:27}},{start:{line:2,column:31},end:{line:2,column:51}},{start:{line:2,column:56},end:{line:4,column:1}}],line:2},"1":{loc:{start:{line:3,column:11},end:{line:3,column:61}},type:"cond-expr",locations:[{start:{line:3,column:37},end:{line:3,column:40}},{start:{line:3,column:43},end:{line:3,column:61}}],line:3},"2":{loc:{start:{line:3,column:12},end:{line:3,column:33}},type:"binary-expr",locations:[{start:{line:3,column:12},end:{line:3,column:15}},{start:{line:3,column:19},end:{line:3,column:33}}],line:3},"3":{loc:{start:{line:22,column:8},end:{line:25,column:9}},type:"if",locations:[{start:{line:22,column:8},end:{line:25,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:22},"4":{loc:{start:{line:26,column:8},end:{line:29,column:9}},type:"if",locations:[{start:{line:26,column:8},end:{line:29,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:26},"5":{loc:{start:{line:30,column:8},end:{line:33,column:9}},type:"if",locations:[{start:{line:30,column:8},end:{line:33,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:30},"6":{loc:{start:{line:34,column:8},end:{line:37,column:9}},type:"if",locations:[{start:{line:34,column:8},end:{line:37,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:34},"7":{loc:{start:{line:34,column:12},end:{line:34,column:98}},type:"binary-expr",locations:[{start:{line:34,column:12},end:{line:34,column:28}},{start:{line:34,column:32},end:{line:34,column:98}}],line:34},"8":{loc:{start:{line:38,column:8},end:{line:41,column:9}},type:"if",locations:[{start:{line:38,column:8},end:{line:41,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:38},"9":{loc:{start:{line:38,column:12},end:{line:39,column:80}},type:"binary-expr",locations:[{start:{line:38,column:12},end:{line:38,column:30}},{start:{line:39,column:12},end:{line:39,column:80}}],line:38},"10":{loc:{start:{line:48,column:8},end:{line:57,column:9}},type:"if",locations:[{start:{line:48,column:8},end:{line:57,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:48}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0},f:{"0":0,"1":0},b:{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},inputSourceMap:{version:3,file:"/Users/trevorhuey/code/internal-actions-public/.github/actions/npm-license-checker/src/run.ts",sources:["/Users/trevorhuey/code/internal-actions-public/.github/actions/npm-license-checker/src/run.ts"],names:[],mappings:"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",sourcesContent:["import fs from 'fs';\nimport path from 'path';\nimport { DependencyType, RunOptions, DetailsOutputFormat } from './types';\nimport checkLicenses from './checkLicenses';\n\nexport default async function run({ core, licenseChecker }: RunOptions) {\n  try {\n    const dependencyType = core.getInput('dependency-type') as DependencyType;\n    const startPath = core.getInput('start-path');\n    const customFieldsPath = core.getInput('custom-fields-path');\n    const clarificationsPath = core.getInput('clarifications-path');\n    const onlyAllow = core.getInput('only-allow');\n    const detailsOutputPath = core.getInput('details-output-path');\n    const detailsOutputFormat = core.getInput(\n      'details-output-format'\n    ) as DetailsOutputFormat;\n    const excludePackages = core.getInput('exclude-packages');\n    const excludePackagesStartingWith = core.getInput(\n      'exclude-packages-starting-with'\n    );\n\n    if (!Object.values(DependencyType).includes(dependencyType)) {\n      core.setFailed(\n        `Invalid dependency-type: ${dependencyType}. Allowed values are: ${Object.values(\n          DependencyType\n        ).join(', ')}`\n      );\n      return;\n    }\n\n    if (!Object.values(DetailsOutputFormat).includes(detailsOutputFormat)) {\n      core.setFailed(\n        `Invalid details-output-format: ${detailsOutputFormat}. Allowed values are: ${Object.values(\n          DetailsOutputFormat\n        ).join(', ')}`\n      );\n      return;\n    }\n\n    if (!fs.existsSync(path.resolve(startPath))) {\n      core.setFailed(\n        `The file specified by start-path does not exist: ${startPath}`\n      );\n      return;\n    }\n\n    if (customFieldsPath && !fs.existsSync(path.resolve(customFieldsPath))) {\n      core.setFailed(\n        `The file specified by custom-fields-path does not exist: ${customFieldsPath}`\n      );\n      return;\n    }\n\n    if (\n      clarificationsPath &&\n      !fs.existsSync(path.resolve(clarificationsPath))\n    ) {\n      core.setFailed(\n        `The file specified by clarifications-path does not exist: ${clarificationsPath}`\n      );\n    }\n\n    let customFields: Record<string, any> | undefined = {\n      name: '',\n      version: '',\n      licenses: '',\n      licenseText: '',\n    };\n    if (customFieldsPath) {\n      try {\n        const customFieldsContent = fs.readFileSync(\n          path.resolve(customFieldsPath),\n          'utf8'\n        );\n        customFields = JSON.parse(customFieldsContent);\n      } catch (error) {\n        core.setFailed(\n          `Error reading or parsing customFieldsPath: ${\n            (error as Error).message\n          }`\n        );\n        return;\n      }\n    }\n\n    const result = await checkLicenses(licenseChecker, {\n      startPath,\n      dependencyType,\n      customFields,\n      onlyAllow,\n      detailsOutputPath,\n      excludePackages,\n      excludePackagesStartingWith,\n      detailsOutputFormat,\n      clarificationsPath\n    });\n\n    core.info(licenseChecker.asSummary(result))\n  } catch (error) {\n    core.setFailed(`Error checking licenses: ${(error as Error).message}`);\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5254cc6669fdcacc8660d52d6c1faf41d74b0e74"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1jhh4j08io=function(){return actualCoverage;};}return actualCoverage;}cov_1jhh4j08io();var __importDefault=(cov_1jhh4j08io().s[0]++,(cov_1jhh4j08io().b[0][0]++,this)&&(cov_1jhh4j08io().b[0][1]++,this.__importDefault)||(cov_1jhh4j08io().b[0][2]++,function(mod){cov_1jhh4j08io().f[0]++;cov_1jhh4j08io().s[1]++;return(cov_1jhh4j08io().b[2][0]++,mod)&&(cov_1jhh4j08io().b[2][1]++,mod.__esModule)?(cov_1jhh4j08io().b[1][0]++,mod):(cov_1jhh4j08io().b[1][1]++,{"default":mod});}));cov_1jhh4j08io().s[2]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1jhh4j08io().s[3]++;exports.default=run;const fs_1=(cov_1jhh4j08io().s[4]++,__importDefault(require("fs")));const path_1=(cov_1jhh4j08io().s[5]++,__importDefault(require("path")));const types_1=(cov_1jhh4j08io().s[6]++,require("./types"));const checkLicenses_1=(cov_1jhh4j08io().s[7]++,__importDefault(require("./checkLicenses")));async function run({core,licenseChecker}){cov_1jhh4j08io().f[1]++;cov_1jhh4j08io().s[8]++;try{const dependencyType=(cov_1jhh4j08io().s[9]++,core.getInput('dependency-type'));const startPath=(cov_1jhh4j08io().s[10]++,core.getInput('start-path'));const customFieldsPath=(cov_1jhh4j08io().s[11]++,core.getInput('custom-fields-path'));const clarificationsPath=(cov_1jhh4j08io().s[12]++,core.getInput('clarifications-path'));const onlyAllow=(cov_1jhh4j08io().s[13]++,core.getInput('only-allow'));const detailsOutputPath=(cov_1jhh4j08io().s[14]++,core.getInput('details-output-path'));const detailsOutputFormat=(cov_1jhh4j08io().s[15]++,core.getInput('details-output-format'));const excludePackages=(cov_1jhh4j08io().s[16]++,core.getInput('exclude-packages'));const excludePackagesStartingWith=(cov_1jhh4j08io().s[17]++,core.getInput('exclude-packages-starting-with'));cov_1jhh4j08io().s[18]++;if(!Object.values(types_1.DependencyType).includes(dependencyType)){cov_1jhh4j08io().b[3][0]++;cov_1jhh4j08io().s[19]++;core.setFailed(`Invalid dependency-type: ${dependencyType}. Allowed values are: ${Object.values(types_1.DependencyType).join(', ')}`);cov_1jhh4j08io().s[20]++;return;}else{cov_1jhh4j08io().b[3][1]++;}cov_1jhh4j08io().s[21]++;if(!Object.values(types_1.DetailsOutputFormat).includes(detailsOutputFormat)){cov_1jhh4j08io().b[4][0]++;cov_1jhh4j08io().s[22]++;core.setFailed(`Invalid details-output-format: ${detailsOutputFormat}. Allowed values are: ${Object.values(types_1.DetailsOutputFormat).join(', ')}`);cov_1jhh4j08io().s[23]++;return;}else{cov_1jhh4j08io().b[4][1]++;}cov_1jhh4j08io().s[24]++;if(!fs_1.default.existsSync(path_1.default.resolve(startPath))){cov_1jhh4j08io().b[5][0]++;cov_1jhh4j08io().s[25]++;core.setFailed(`The file specified by start-path does not exist: ${startPath}`);cov_1jhh4j08io().s[26]++;return;}else{cov_1jhh4j08io().b[5][1]++;}cov_1jhh4j08io().s[27]++;if((cov_1jhh4j08io().b[7][0]++,customFieldsPath)&&(cov_1jhh4j08io().b[7][1]++,!fs_1.default.existsSync(path_1.default.resolve(customFieldsPath)))){cov_1jhh4j08io().b[6][0]++;cov_1jhh4j08io().s[28]++;core.setFailed(`The file specified by custom-fields-path does not exist: ${customFieldsPath}`);cov_1jhh4j08io().s[29]++;return;}else{cov_1jhh4j08io().b[6][1]++;}cov_1jhh4j08io().s[30]++;if((cov_1jhh4j08io().b[9][0]++,clarificationsPath)&&(cov_1jhh4j08io().b[9][1]++,!fs_1.default.existsSync(path_1.default.resolve(clarificationsPath)))){cov_1jhh4j08io().b[8][0]++;cov_1jhh4j08io().s[31]++;core.setFailed(`The file specified by clarifications-path does not exist: ${clarificationsPath}`);}else{cov_1jhh4j08io().b[8][1]++;}let customFields=(cov_1jhh4j08io().s[32]++,{name:'',version:'',licenses:'',licenseText:''});cov_1jhh4j08io().s[33]++;if(customFieldsPath){cov_1jhh4j08io().b[10][0]++;cov_1jhh4j08io().s[34]++;try{const customFieldsContent=(cov_1jhh4j08io().s[35]++,fs_1.default.readFileSync(path_1.default.resolve(customFieldsPath),'utf8'));cov_1jhh4j08io().s[36]++;customFields=JSON.parse(customFieldsContent);}catch(error){cov_1jhh4j08io().s[37]++;core.setFailed(`Error reading or parsing customFieldsPath: ${error.message}`);cov_1jhh4j08io().s[38]++;return;}}else{cov_1jhh4j08io().b[10][1]++;}const result=(cov_1jhh4j08io().s[39]++,await(0,checkLicenses_1.default)(licenseChecker,{startPath,dependencyType,customFields,onlyAllow,detailsOutputPath,excludePackages,excludePackagesStartingWith,detailsOutputFormat,clarificationsPath}));cov_1jhh4j08io().s[40]++;core.info(licenseChecker.asSummary(result));}catch(error){cov_1jhh4j08io().s[41]++;core.setFailed(`Error checking licenses: ${error.message}`);}}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3RyZXZvcmh1ZXkvY29kZS9pbnRlcm5hbC1hY3Rpb25zLXB1YmxpYy8uZ2l0aHViL2FjdGlvbnMvbnBtLWxpY2Vuc2UtY2hlY2tlci9zcmMvcnVuLnRzIiwic291cmNlcyI6WyIvVXNlcnMvdHJldm9yaHVleS9jb2RlL2ludGVybmFsLWFjdGlvbnMtcHVibGljLy5naXRodWIvYWN0aW9ucy9ucG0tbGljZW5zZS1jaGVja2VyL3NyYy9ydW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFLQSxzQkFnR0M7QUFyR0QsNENBQW9CO0FBQ3BCLGdEQUF3QjtBQUN4QixtQ0FBMEU7QUFDMUUsb0VBQTRDO0FBRTdCLEtBQUssVUFBVSxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFjO0lBQ3BFLElBQUksQ0FBQztRQUNILE1BQU0sY0FBYyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsaUJBQWlCLENBQW1CLENBQUM7UUFDMUUsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUM5QyxNQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUM3RCxNQUFNLGtCQUFrQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMscUJBQXFCLENBQUMsQ0FBQztRQUNoRSxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzlDLE1BQU0saUJBQWlCLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQy9ELE1BQU0sbUJBQW1CLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FDdkMsdUJBQXVCLENBQ0QsQ0FBQztRQUN6QixNQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDMUQsTUFBTSwyQkFBMkIsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUMvQyxnQ0FB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bXBvcnQgeyBEZXBlbmRlbmN5VHlwZSwgUnVuT3B0aW9ucywgRGV0YWlsc091dHB1dEZvcm1hdCB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IGNoZWNrTGljZW5zZXMgZnJvbSAnLi9jaGVja0xpY2Vuc2VzJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gcnVuKHsgY29yZSwgbGljZW5zZUNoZWNrZXIgfTogUnVuT3B0aW9ucykge1xuICB0cnkge1xuICAgIGNvbnN0IGRlcGVuZGVuY3lUeXBlID0gY29yZS5nZXRJbnB1dCgnZGVwZW5kZW5jeS10eXBlJykgYXMgRGVwZW5kZW5jeVR5cGU7XG4gICAgY29uc3Qgc3RhcnRQYXRoID0gY29yZS5nZXRJbnB1dCgnc3RhcnQtcGF0aCcpO1xuICAgIGNvbnN0IGN1c3RvbUZpZWxkc1BhdGggPSBjb3JlLmdldElucHV0KCdjdXN0b20tZmllbGRzLXBhdGgnKTtcbiAgICBjb25zdCBjbGFyaWZpY2F0aW9uc1BhdGggPSBjb3JlLmdldElucHV0KCdjbGFyaWZpY2F0aW9ucy1wYXRoJyk7XG4gICAgY29uc3Qgb25seUFsbG93ID0gY29yZS5nZXRJbnB1dCgnb25seS1hbGxvdycpO1xuICAgIGNvbnN0IGRldGFpbHNPdXRwdXRQYXRoID0gY29yZS5nZXRJbnB1dCgnZGV0YWlscy1vdXRwdXQtcGF0aCcpO1xuICAgIGNvbnN0IGRldGFpbHNPdXRwdXRGb3JtYXQgPSBjb3JlLmdldElucHV0KFxuICAgICAgJ2RldGFpbHMtb3V0cHV0LWZvcm1hdCdcbiAgICApIGFzIERldGFpbHNPdXRwdXRGb3JtYXQ7XG4gICAgY29uc3QgZXhjbHVkZVBhY2thZ2VzID0gY29yZS5nZXRJbnB1dCgnZXhjbHVkZS1wYWNrYWdlcycpO1xuICAgIGNvbnN0IGV4Y2x1ZGVQYWNrYWdlc1N0YXJ0aW5nV2l0aCA9IGNvcmUuZ2V0SW5wdXQoXG4gICAgICAnZXhjbHVkZS1wYWNrYWdlcy1zdGFydGluZy13aXRoJ1xuICAgICk7XG5cbiAgICBpZiAoIU9iamVjdC52YWx1ZXMoRGVwZW5kZW5jeVR5cGUpLmluY2x1ZGVzKGRlcGVuZGVuY3lUeXBlKSkge1xuICAgICAgY29yZS5zZXRGYWlsZWQoXG4gICAgICAgIGBJbnZhbGlkIGRlcGVuZGVuY3ktdHlwZTogJHtkZXBlbmRlbmN5VHlwZX0uIEFsbG93ZWQgdmFsdWVzIGFyZTogJHtPYmplY3QudmFsdWVzKFxuICAgICAgICAgIERlcGVuZGVuY3lUeXBlXG4gICAgICAgICkuam9pbignLCAnKX1gXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghT2JqZWN0LnZhbHVlcyhEZXRhaWxzT3V0cHV0Rm9ybWF0KS5pbmNsdWRlcyhkZXRhaWxzT3V0cHV0Rm9ybWF0KSkge1xuICAgICAgY29yZS5zZXRGYWlsZWQoXG4gICAgICAgIGBJbnZhbGlkIGRldGFpbHMtb3V0cHV0LWZvcm1hdDogJHtkZXRhaWxzT3V0cHV0Rm9ybWF0fS4gQWxsb3dlZCB2YWx1ZXMgYXJlOiAke09iamVjdC52YWx1ZXMoXG4gICAgICAgICAgRGV0YWlsc091dHB1dEZvcm1hdFxuICAgICAgICApLmpvaW4oJywgJyl9YFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWZzLmV4aXN0c1N5bmMocGF0aC5yZXNvbHZlKHN0YXJ0UGF0aCkpKSB7XG4gICAgICBjb3JlLnNldEZhaWxlZChcbiAgICAgICAgYFRoZSBmaWxlIHNwZWNpZmllZCBieSBzdGFydC1wYXRoIGRvZXMgbm90IGV4aXN0OiAke3N0YXJ0UGF0aH1gXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjdXN0b21GaWVsZHNQYXRoICYmICFmcy5leGlzdHNTeW5jKHBhdGgucmVzb2x2ZShjdXN0b21GaWVsZHNQYXRoKSkpIHtcbiAgICAgIGNvcmUuc2V0RmFpbGVkKFxuICAgICAgICBgVGhlIGZpbGUgc3BlY2lmaWVkIGJ5IGN1c3RvbS1maWVsZHMtcGF0aCBkb2VzIG5vdCBleGlzdDogJHtjdXN0b21GaWVsZHNQYXRofWBcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgY2xhcmlmaWNhdGlvbnNQYXRoICYmXG4gICAgICAhZnMuZXhpc3RzU3luYyhwYXRoLnJlc29sdmUoY2xhcmlmaWNhdGlvbnNQYXRoKSlcbiAgICApIHtcbiAgICAgIGNvcmUuc2V0RmFpbGVkKFxuICAgICAgICBgVGhlIGZpbGUgc3BlY2lmaWVkIGJ5IGNsYXJpZmljYXRpb25zLXBhdGggZG9lcyBub3QgZXhpc3Q6ICR7Y2xhcmlmaWNhdGlvbnNQYXRofWBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IGN1c3RvbUZpZWxkczogUmVjb3JkPHN0cmluZywgYW55PiB8IHVuZGVmaW5lZCA9IHtcbiAgICAgIG5hbWU6ICcnLFxuICAgICAgdmVyc2lvbjogJycsXG4gICAgICBsaWNlbnNlczogJycsXG4gICAgICBsaWNlbnNlVGV4dDogJycsXG4gICAgfTtcbiAgICBpZiAoY3VzdG9tRmllbGRzUGF0aCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3VzdG9tRmllbGRzQ29udGVudCA9IGZzLnJlYWRGaWxlU3luYyhcbiAgICAgICAgICBwYXRoLnJlc29sdmUoY3VzdG9tRmllbGRzUGF0aCksXG4gICAgICAgICAgJ3V0ZjgnXG4gICAgICAgICk7XG4gICAgICAgIGN1c3RvbUZpZWxkcyA9IEpTT04ucGFyc2UoY3VzdG9tRmllbGRzQ29udGVudCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb3JlLnNldEZhaWxlZChcbiAgICAgICAgICBgRXJyb3IgcmVhZGluZyBvciBwYXJzaW5nIGN1c3RvbUZpZWxkc1BhdGg6ICR7XG4gICAgICAgICAgICAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2VcbiAgICAgICAgICB9YFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hlY2tMaWNlbnNlcyhsaWNlbnNlQ2hlY2tlciwge1xuICAgICAgc3RhcnRQYXRoLFxuICAgICAgZGVwZW5kZW5jeVR5cGUsXG4gICAgICBjdXN0b21GaWVsZHMsXG4gICAgICBvbmx5QWxsb3csXG4gICAgICBkZXRhaWxzT3V0cHV0UGF0aCxcbiAgICAgIGV4Y2x1ZGVQYWNrYWdlcyxcbiAgICAgIGV4Y2x1ZGVQYWNrYWdlc1N0YXJ0aW5nV2l0aCxcbiAgICAgIGRldGFpbHNPdXRwdXRGb3JtYXQsXG4gICAgICBjbGFyaWZpY2F0aW9uc1BhdGhcbiAgICB9KTtcblxuICAgIGNvcmUuaW5mbyhsaWNlbnNlQ2hlY2tlci5hc1N1bW1hcnkocmVzdWx0KSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb3JlLnNldEZhaWxlZChgRXJyb3IgY2hlY2tpbmcgbGljZW5zZXM6ICR7KGVycm9yIGFzIEVycm9yKS5tZXNzYWdlfWApO1xuICB9XG59XG4iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWpoaDRqMDhpbyIsImFjdHVhbENvdmVyYWdlIiwiZXhwb3J0cyIsImRlZmF1bHQiLCJydW4iLCJmc18xIiwicyIsIl9faW1wb3J0RGVmYXVsdCIsInJlcXVpcmUiLCJwYXRoXzEiLCJ0eXBlc18xIiwiY2hlY2tMaWNlbnNlc18xIiwiY29yZSIsImxpY2Vuc2VDaGVja2VyIiwiZiIsImRlcGVuZGVuY3lUeXBlIiwiZ2V0SW5wdXQiLCJzdGFydFBhdGgiLCJjdXN0b21GaWVsZHNQYXRoIiwiY2xhcmlmaWNhdGlvbnNQYXRoIiwib25seUFsbG93IiwiZGV0YWlsc091dHB1dFBhdGgiLCJkZXRhaWxzT3V0cHV0Rm9ybWF0IiwiZXhjbHVkZVBhY2thZ2VzIiwiZXhjbHVkZVBhY2thZ2VzU3RhcnRpbmdXaXRoIiwiT2JqZWN0IiwidmFsdWVzIiwiRGVwZW5kZW5jeVR5cGUiLCJpbmNsdWRlcyIsImIiLCJzZXRGYWlsZWQiLCJqb2luIiwiRGV0YWlsc091dHB1dEZvcm1hdCIsImV4aXN0c1N5bmMiLCJyZXNvbHZlIiwiY3VzdG9tRmllbGRzIiwibmFtZSIsInZlcnNpb24iLCJsaWNlbnNlcyIsImxpY2Vuc2VUZXh0IiwiY3VzdG9tRmllbGRzQ29udGVudCIsInJlYWRGaWxlU3luYyIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwibWVzc2FnZSIsInJlc3VsdCIsImluZm8iLCJhc1N1bW1hcnkiXSwic291cmNlcyI6WyIvVXNlcnMvdHJldm9yaHVleS9jb2RlL2ludGVybmFsLWFjdGlvbnMtcHVibGljLy5naXRodWIvYWN0aW9ucy9ucG0tbGljZW5zZS1jaGVja2VyL3NyYy9ydW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgRGVwZW5kZW5jeVR5cGUsIFJ1bk9wdGlvbnMsIERldGFpbHNPdXRwdXRGb3JtYXQgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCBjaGVja0xpY2Vuc2VzIGZyb20gJy4vY2hlY2tMaWNlbnNlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIHJ1bih7IGNvcmUsIGxpY2Vuc2VDaGVja2VyIH06IFJ1bk9wdGlvbnMpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkZXBlbmRlbmN5VHlwZSA9IGNvcmUuZ2V0SW5wdXQoJ2RlcGVuZGVuY3ktdHlwZScpIGFzIERlcGVuZGVuY3lUeXBlO1xuICAgIGNvbnN0IHN0YXJ0UGF0aCA9IGNvcmUuZ2V0SW5wdXQoJ3N0YXJ0LXBhdGgnKTtcbiAgICBjb25zdCBjdXN0b21GaWVsZHNQYXRoID0gY29yZS5nZXRJbnB1dCgnY3VzdG9tLWZpZWxkcy1wYXRoJyk7XG4gICAgY29uc3QgY2xhcmlmaWNhdGlvbnNQYXRoID0gY29yZS5nZXRJbnB1dCgnY2xhcmlmaWNhdGlvbnMtcGF0aCcpO1xuICAgIGNvbnN0IG9ubHlBbGxvdyA9IGNvcmUuZ2V0SW5wdXQoJ29ubHktYWxsb3cnKTtcbiAgICBjb25zdCBkZXRhaWxzT3V0cHV0UGF0aCA9IGNvcmUuZ2V0SW5wdXQoJ2RldGFpbHMtb3V0cHV0LXBhdGgnKTtcbiAgICBjb25zdCBkZXRhaWxzT3V0cHV0Rm9ybWF0ID0gY29yZS5nZXRJbnB1dChcbiAgICAgICdkZXRhaWxzLW91dHB1dC1mb3JtYXQnXG4gICAgKSBhcyBEZXRhaWxzT3V0cHV0Rm9ybWF0O1xuICAgIGNvbnN0IGV4Y2x1ZGVQYWNrYWdlcyA9IGNvcmUuZ2V0SW5wdXQoJ2V4Y2x1ZGUtcGFja2FnZXMnKTtcbiAgICBjb25zdCBleGNsdWRlUGFja2FnZXNTdGFydGluZ1dpdGggPSBjb3JlLmdldElucHV0KFxuICAgICAgJ2V4Y2x1ZGUtcGFja2FnZXMtc3RhcnRpbmctd2l0aCdcbiAgICApO1xuXG4gICAgaWYgKCFPYmplY3QudmFsdWVzKERlcGVuZGVuY3lUeXBlKS5pbmNsdWRlcyhkZXBlbmRlbmN5VHlwZSkpIHtcbiAgICAgIGNvcmUuc2V0RmFpbGVkKFxuICAgICAgICBgSW52YWxpZCBkZXBlbmRlbmN5LXR5cGU6ICR7ZGVwZW5kZW5jeVR5cGV9LiBBbGxvd2VkIHZhbHVlcyBhcmU6ICR7T2JqZWN0LnZhbHVlcyhcbiAgICAgICAgICBEZXBlbmRlbmN5VHlwZVxuICAgICAgICApLmpvaW4oJywgJyl9YFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIU9iamVjdC52YWx1ZXMoRGV0YWlsc091dHB1dEZvcm1hdCkuaW5jbHVkZXMoZGV0YWlsc091dHB1dEZvcm1hdCkpIHtcbiAgICAgIGNvcmUuc2V0RmFpbGVkKFxuICAgICAgICBgSW52YWxpZCBkZXRhaWxzLW91dHB1dC1mb3JtYXQ6ICR7ZGV0YWlsc091dHB1dEZvcm1hdH0uIEFsbG93ZWQgdmFsdWVzIGFyZTogJHtPYmplY3QudmFsdWVzKFxuICAgICAgICAgIERldGFpbHNPdXRwdXRGb3JtYXRcbiAgICAgICAgKS5qb2luKCcsICcpfWBcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKHBhdGgucmVzb2x2ZShzdGFydFBhdGgpKSkge1xuICAgICAgY29yZS5zZXRGYWlsZWQoXG4gICAgICAgIGBUaGUgZmlsZSBzcGVjaWZpZWQgYnkgc3RhcnQtcGF0aCBkb2VzIG5vdCBleGlzdDogJHtzdGFydFBhdGh9YFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY3VzdG9tRmllbGRzUGF0aCAmJiAhZnMuZXhpc3RzU3luYyhwYXRoLnJlc29sdmUoY3VzdG9tRmllbGRzUGF0aCkpKSB7XG4gICAgICBjb3JlLnNldEZhaWxlZChcbiAgICAgICAgYFRoZSBmaWxlIHNwZWNpZmllZCBieSBjdXN0b20tZmllbGRzLXBhdGggZG9lcyBub3QgZXhpc3Q6ICR7Y3VzdG9tRmllbGRzUGF0aH1gXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGNsYXJpZmljYXRpb25zUGF0aCAmJlxuICAgICAgIWZzLmV4aXN0c1N5bmMocGF0aC5yZXNvbHZlKGNsYXJpZmljYXRpb25zUGF0aCkpXG4gICAgKSB7XG4gICAgICBjb3JlLnNldEZhaWxlZChcbiAgICAgICAgYFRoZSBmaWxlIHNwZWNpZmllZCBieSBjbGFyaWZpY2F0aW9ucy1wYXRoIGRvZXMgbm90IGV4aXN0OiAke2NsYXJpZmljYXRpb25zUGF0aH1gXG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCBjdXN0b21GaWVsZHM6IFJlY29yZDxzdHJpbmcsIGFueT4gfCB1bmRlZmluZWQgPSB7XG4gICAgICBuYW1lOiAnJyxcbiAgICAgIHZlcnNpb246ICcnLFxuICAgICAgbGljZW5zZXM6ICcnLFxuICAgICAgbGljZW5zZVRleHQ6ICcnLFxuICAgIH07XG4gICAgaWYgKGN1c3RvbUZpZWxkc1BhdGgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbUZpZWxkc0NvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmMoXG4gICAgICAgICAgcGF0aC5yZXNvbHZlKGN1c3RvbUZpZWxkc1BhdGgpLFxuICAgICAgICAgICd1dGY4J1xuICAgICAgICApO1xuICAgICAgICBjdXN0b21GaWVsZHMgPSBKU09OLnBhcnNlKGN1c3RvbUZpZWxkc0NvbnRlbnQpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29yZS5zZXRGYWlsZWQoXG4gICAgICAgICAgYEVycm9yIHJlYWRpbmcgb3IgcGFyc2luZyBjdXN0b21GaWVsZHNQYXRoOiAke1xuICAgICAgICAgICAgKGVycm9yIGFzIEVycm9yKS5tZXNzYWdlXG4gICAgICAgICAgfWBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoZWNrTGljZW5zZXMobGljZW5zZUNoZWNrZXIsIHtcbiAgICAgIHN0YXJ0UGF0aCxcbiAgICAgIGRlcGVuZGVuY3lUeXBlLFxuICAgICAgY3VzdG9tRmllbGRzLFxuICAgICAgb25seUFsbG93LFxuICAgICAgZGV0YWlsc091dHB1dFBhdGgsXG4gICAgICBleGNsdWRlUGFja2FnZXMsXG4gICAgICBleGNsdWRlUGFja2FnZXNTdGFydGluZ1dpdGgsXG4gICAgICBkZXRhaWxzT3V0cHV0Rm9ybWF0LFxuICAgICAgY2xhcmlmaWNhdGlvbnNQYXRoXG4gICAgfSk7XG5cbiAgICBjb3JlLmluZm8obGljZW5zZUNoZWNrZXIuYXNTdW1tYXJ5KHJlc3VsdCkpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29yZS5zZXRGYWlsZWQoYEVycm9yIGNoZWNraW5nIGxpY2Vuc2VzOiAkeyhlcnJvciBhcyBFcnJvcikubWVzc2FnZX1gKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoieW9YQVVJO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHLDRlQUxKRSxPQUFBLENBQUFDLE9BQUEsQ0FBQUMsR0FBQSxDQUxBLE1BQUFDLElBQUEsRUFBQUwsY0FBQSxHQUFBTSxDQUFBLE1BQUFDLGVBQUEsQ0FBQUMsT0FBQSxTQUNBLE1BQUFDLE1BQUEsRUFBQVQsY0FBQSxHQUFBTSxDQUFBLE1BQUFDLGVBQUEsQ0FBQUMsT0FBQSxXQUNBLE1BQUFFLE9BQUEsRUFBQVYsY0FBQSxHQUFBTSxDQUFBLE1BQUFFLE9BQUEsYUFDQSxNQUFBRyxlQUFBLEVBQUFYLGNBQUEsR0FBQU0sQ0FBQSxNQUFBQyxlQUFBLENBQUFDLE9BQUEsc0JBRWUsY0FBZSxDQUFBSixHQUFHQSxDQUFDLENBQUVRLElBQUksQ0FBRUMsY0FBYyxDQUFjLEVBQUFiLGNBQUEsR0FBQWMsQ0FBQSxNQUFBZCxjQUFBLEdBQUFNLENBQUEsTUFDcEUsR0FBSSxDQUNGLEtBQU0sQ0FBQVMsY0FBYyxFQUFBZixjQUFBLEdBQUFNLENBQUEsTUFBR00sSUFBSSxDQUFDSSxRQUFRLENBQUMsaUJBQWlCLENBQW1CLEVBQ3pFLEtBQU0sQ0FBQUMsU0FBUyxFQUFBakIsY0FBQSxHQUFBTSxDQUFBLE9B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